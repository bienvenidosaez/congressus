{% load i18n %}
<div class="map">
    <table class="table-bordered table">
        {% for r in map.get_table %}
            <tr>
            {% for c in r %}
                {% if c == 'scene' %}
                    <td class="scene">
                        {% trans "scene" %}
                    </td>
                {% elif c %}
                    <td class="layout"
                    data-session="{{ session.id }}" data-id="{{ c.id }}"
                    data-name="{{ c.name }}" data-layout="{{ c.layout }}"
                    data-dir="{{ c.direction }}"
                    data-glyph="{{ c.glyph }}">
                        {{ c }} / {% trans "free" %}: {{ c.free }}
                        <span class="glyphicon {{ c.glyph }}" aria-hidden="true"></span>
                    </td>
                {% else %}
                    <td class="empty">{{ c }}</td>
                {% endif %}
            {% endfor %}
            </tr>
        {% endfor %}
    </table>
</div>

{% for r in map.get_table %}
    {% for c in r %}
        {% if c and c != 'scene' %}
            <div class="display display-{{ session.id }}-{{ c.id }}">
            {% include "tickets/layout.html" with layout=c session=session classes="" %}
            </div>
        {% endif %}
    {% endfor %}
{% endfor %}
